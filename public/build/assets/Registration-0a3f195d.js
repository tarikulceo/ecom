import{_ as q,u as B,s as T,c as D,S as F,a as _,r as b,e as N,q as y,m as v,b as R,d as S,f as l,o as n,g as r,h as i,w as d,i as o,t as a,j as A,F as p,k as f,n as O,l as m,p as u}from"./app-81c86c8f.js";const j={data:()=>({mobileInputProps:{inputOptions:{type:"tel",placeholder:"phone number"},dropdownOptions:{showDialCodeInSelection:!1,showFlags:!0,showDialCodeInList:!0},autoDefaultCountry:!1,validCharactersOnly:!0,mode:"international"},v$:B(),form:{name:"",phone:"",email:"",password:"",confirmPassword:"",invalidPhone:!0,showInvalidPhone:!1},passwordShow:!1,loading:!1}),components:{snackbar:T,VueTelInput:D,SocialLogin:F},validations:{form:{name:{required:_},email:{requiredIf:b(function(){return this.authSettings.customer_login_with=="email"||this.authSettings.customer_login_with=="email_phone"}),email:N},phone:{requiredIf:b(function(){return this.authSettings.customer_login_with=="phone"||this.authSettings.customer_login_with=="email_phone"})},password:{required:_,minLength:y(6)},confirmPassword:{required:_,minLength:y(6)}}},computed:{...v("app",["generalSettings","availableCountries"]),...v("auth",["authSettings"]),...v("cart",["getTempUserId"])},methods:{...R("auth",["login"]),...S("cart",["removeTempUserId"]),...S("auth",["updateChatWindow","showLoginDialog"]),phoneValidate(e){this.form.invalidPhone=!e.valid,e.valid&&(this.form.showInvalidPhone=!1)},async register(){if(!await this.v$.$validate())return;if((this.authSettings.customer_login_with=="phone"||this.authSettings.customer_login_with=="email_phone")&&this.form.invalidPhone){this.form.showInvalidPhone=!0;return}this.form.phone=this.form.phone.replace(/\s/g,""),this.getTempUserId&&(this.form.temp_user_id=this.getTempUserId),this.loading=!0;const s=await this.call_api("post","auth/signup",this.form);s.data.success?(this.getTempUserId&&this.removeTempUserId(),this.authSettings.customer_otp_with=="disabled"?(this.login(s.data),this.showLoginDialog(!1),this.updateChatWindow(!1),this.$router.push(this.$route.query.redirect||{name:"DashBoard"})):(this.authSettings.customer_login_with=="email"||this.authSettings.customer_login_with=="email_phone"&&this.authSettings.customer_otp_with=="email"?this.$router.push({name:"VerifyAccount",params:{email:this.form.email}}):this.$router.push({name:"VerifyAccount",params:{phone:this.form.phone}}),this.snack({message:s.data.message}))):this.snack({message:s.data.message,color:"red"}),this.loading=!1},async registrationReferralCode(e){await this.call_api("post","affiliate/registration-refferal-code",{referralCode:e})}},mounted(){const s=new URLSearchParams(window.location.search).get("referral_code");s!=null&&this.registrationReferralCode(s)}},z={class:"my-5 my-lg-16 rounded-lg pa-5 border overflow-hidden shadow-light"},M={class:"px-lg-7"},W={class:"text-uppercase lh-1 mb-5"},E={class:"opacity-50 fs-22 fw-400"},G={class:"d-block display-1 fs-34 fw-900"},H={class:"mb-4"},J={class:"mb-1 fs-13 fw-500"},K={key:0,class:"mb-4"},Q={class:"mb-1 fs-13 fw-500"},X=o("template",{slot:"arrow-icon"},[o("span",{class:"vti__dropdown-arrow"}," ▼")],-1),Y={key:0,class:"v-text-field__details mt-2 pl-3"},Z={class:"v-messages theme--light error--text",role:"alert"},x={class:"v-messages__wrapper"},ee={class:"v-messages__message"},se={key:1,class:"v-text-field__details mt-2 pl-3"},te={class:"v-messages theme--light error--text",role:"alert"},oe={class:"v-messages__wrapper"},ae={class:"v-messages__message text-red"},ie={key:1,class:"mb-4"},ne={class:"fs-13 fw-500"},re={class:"mb-4"},le={class:"mb-1 fs-13 fw-500"},de={class:"mb-4"},me={class:"mb-1 fs-13 fw-500"},ue={class:"mb-4"},he={key:0},pe={class:"d-flex align-center mb-3"},fe={class:"me-2 fs-13 fw-500 opacity-60 w-110px"};function ge(e,s,ce,_e,ve,g){const V=l("banner"),c=l("v-col"),h=l("v-text-field"),C=l("vue-tel-input"),w=l("router-link"),k=l("v-btn"),P=l("v-form"),I=l("v-divider"),L=l("SocialLogin"),$=l("v-row"),U=l("v-container");return n(),r("div",null,[i(U,null,{default:d(()=>[i($,null,{default:d(()=>[i(c,{xl:"10",class:"mx-auto"},{default:d(()=>[o("div",z,[i($,{"no-gutters":"",align:"start"},{default:d(()=>[i(c,{cols:"12",lg:"6",order:"2","order-lg":"1",class:"lh-0"},{default:d(()=>[i(V,{loading:!1,banner:e.$store.getters["app/banners"].registration_page,class:"mt-5 mt-lg-0"},null,8,["banner"])]),_:1}),i(c,{cols:"12",order:"1","order-lg":"2",lg:"6"},{default:d(()=>[o("div",M,[o("h1",W,[o("span",E,a(e.$t("welcome_to")),1),o("span",G,a(e.$store.getters["app/appName"]),1)]),i(P,{ref:"loginForm","lazy-validation":"",onSubmit:s[9]||(s[9]=A(t=>g.register(),["prevent"]))},{default:d(()=>[o("div",H,[o("div",J,a(e.$t("full_name")),1),i(h,{variant:"plain",class:"text-field",placeholder:e.$t("full_name"),type:"text",modelValue:e.form.name,"onUpdate:modelValue":s[0]||(s[0]=t=>e.form.name=t),onBlur:s[1]||(s[1]=t=>e.v$.form.name.$touch()),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(n(!0),r(p,null,f(e.v$.form.name.$errors,t=>(n(),r("p",{key:t.$uid,class:"text-red"},a(t.$message),1))),128))]),e.authSettings.customer_login_with=="phone"||e.authSettings.customer_login_with=="email_phone"?(n(),r("div",K,[o("div",Q,a(e.$t("phone_number")),1),i(C,O({modelValue:e.form.phone,"onUpdate:modelValue":s[2]||(s[2]=t=>e.form.phone=t)},e.mobileInputProps,{onlyCountries:e.availableCountries,onValidate:g.phoneValidate}),{default:d(()=>[X]),_:1},16,["modelValue","onlyCountries","onValidate"]),e.v$.form.phone.$error?(n(),r("div",Y,[o("div",Z,[o("div",x,[o("div",ee,a(e.$t("this_field_is_required")),1)])])])):m("",!0),!e.v$.form.phone.$error&&e.form.showInvalidPhone?(n(),r("div",se,[o("div",te,[o("div",oe,[o("div",ae,a(e.$t("phone_number_must_be_valid")),1)])])])):m("",!0)])):m("",!0),e.authSettings.customer_login_with=="email"||e.authSettings.customer_login_with=="email_phone"?(n(),r("div",ie,[o("div",ne,a(e.$t("email_address")),1),i(h,{variant:"plain",class:"text-field",placeholder:e.$t("email_address"),type:"email",modelValue:e.form.email,"onUpdate:modelValue":s[3]||(s[3]=t=>e.form.email=t),onBlur:s[4]||(s[4]=t=>e.v$.form.email.$touch()),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(n(!0),r(p,null,f(e.v$.form.email.$errors,t=>(n(),r("p",{key:t.$uid,class:"text-red"},a(t.$message),1))),128))])):m("",!0),o("div",re,[o("div",le,a(e.$t("password")),1),i(h,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.password,"onUpdate:modelValue":s[5]||(s[5]=t=>e.form.password=t),onBlur:s[6]||(s[6]=t=>e.v$.form.password.$touch()),type:"password",class:"text-field input-group--focused","hide-details":"auto",required:"",outlined:""},null,8,["modelValue"]),(n(!0),r(p,null,f(e.v$.form.password.$errors,t=>(n(),r("p",{key:t.$uid,class:"text-red"},a(t.$message),1))),128))]),o("div",de,[o("div",me,a(e.$t("confirm_password")),1),i(h,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.confirmPassword,"onUpdate:modelValue":s[7]||(s[7]=t=>e.form.confirmPassword=t),onBlur:s[8]||(s[8]=t=>e.v$.form.confirmPassword.$touch()),type:"password",class:"text-field input-group--focused","hide-details":"auto",required:"",outlined:""},null,8,["modelValue"]),(n(!0),r(p,null,f(e.v$.form.confirmPassword.$errors,t=>(n(),r("p",{key:t.$uid,class:"text-red"},a(t.$message),1))),128))]),o("div",ue,[u(a(e.$t("by_signing_up_you_agree_to_our"))+" ",1),i(w,{to:{name:"CustomPage",params:{pageSlug:"terms-and-conditions"}},class:"primary--text text-decoration-underline"},{default:d(()=>[u(a(e.$t("terms_and_conditions")),1)]),_:1})]),i(k,{style:{color:"#fff !important"},size:"x-large",class:"px-12 mb-4",elevation:"0",type:"submit",color:"primary",onClick:g.register,loading:e.loading,disabled:e.loading},{default:d(()=>[u(a(e.$t("create_account")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1},512),e.generalSettings.social_login.facebook==1||e.generalSettings.social_login.twitter==1||e.generalSettings.social_login.google==1?(n(),r("div",he,[o("div",pe,[o("span",fe,a(e.$t("or"))+", "+a(e.$t("join_with")),1),i(I)]),i(L,{class:"mb-5"})])):m("",!0),o("div",null,[u(a(e.$t("already_have_an_account"))+", ",1),i(w,{to:{name:"Login"},class:"primary--texttext-decoration-underline"},{default:d(()=>[u(a(e.$t("login")),1)]),_:1})])])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})])}const $e=q(j,[["render",ge]]);export{$e as default};
