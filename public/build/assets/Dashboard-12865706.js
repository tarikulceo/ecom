import{_ as P,m as h,b as _,f as n,o as r,g as l,h as t,i as s,t as o,v as B,w as d,l as f,j as C,F as b,k as m,A as w,I as V,J as L}from"./app-81c86c8f.js";import{A as W}from"./AddressDialog-8d13091b.js";import{R as j}from"./RechargeDialog-f578fefa.js";import"./Payment-e72846ea.js";const R={data:()=>({rechargeDialogShow:!1,addressDialogShow:!1,dashboardLoading:!0,total_order_products:0,purchasedProducts:[{},{},{}],recentlyViewedProducts:{loading:!0,products:[]},last_recharge:{amount:0,date:""}}),components:{RechargeDialog:j,AddressDialog:W},computed:{...h("app",["generalSettings"]),...h("auth",["currentUser"]),...h("cart",["getCartCount"]),...h("wishlist",["wislistLoaded","getTotalWishlisted","getWislistProducts"]),...h("address",["getDefaultBillingAddress"]),...h("recentlyViewed",["recentlyViewedLoaded","getRecentlyViewedProducts"])},methods:{..._("auth",["rechargeWallet"]),..._("address",["fetchAddresses"]),..._("wishlist",["fetchWislistProducts"]),..._("recentlyViewed",["fetchRecentlyViewedProducts"]),async getDashboardData(){const e=await this.call_api("get","user/dashboard");e.data.success&&(this.total_order_products=e.data.total_order_products,this.purchasedProducts=e.data.recent_purchased_products.data,this.last_recharge=e.data.last_recharge),this.dashboardLoading=!1},rechargeDialogClosed(){this.rechargeDialogShow=!1},addressDialogClosed(){this.addressDialogShow=!1}},created(){this.getDashboardData(),this.fetchAddresses(),this.fetchWislistProducts(),this.fetchRecentlyViewedProducts()},mounted(){this.rechargeWallet(this.$route.query.wallet_payment)}},k=e=>(V("data-v-be659125"),e=e(),L(),e),I={class:"ps-lg-7 pt-4"},N={class:"fs-21 fw-700 opacity-80 mb-5"},F={class:"fs-14 mb-3 fw-700 primary-text"},T={class:"fw-500 text-h4"},U={class:"fs-14 mb-3 fw-700 primary-text"},q={class:"fw-500 text-h4"},z={class:"fw-700 fs-12 opacity-60"},E={class:"fs-14 mb-3 w-100"},G=k(()=>s("i",{class:"las la-plus la-3x opacity-70"},null,-1)),J={class:"fw-500 text-h4"},M={class:"fw-700 fs-12"},x={class:"fw-500 text-h4"},H={class:"fw-700 fs-12"},K={class:"fw-500 text-h4"},O={class:"fw-700 fs-12"},Q={class:"fw-700 fs-16 border-bottom pb-2 mx-2 my-2"},X={class:"h-350px overflow-auto c-scrollbar pa-2"},Y={class:"fw-700 fs-16 border-bottom pb-2 mx-2 my-2"},Z={key:0,class:"h-340px overflow-auto c-scrollbar pa-2"},ee={class:"fw-700 fs-16 border-bottom pb-2"},se={key:0,class:"mt-3 lh-1-8"},te=k(()=>s("i",{class:"las la-plus"},null,-1)),oe={class:"fw-700 fs-16 border-bottom pb-2 mx-2 my-2"},de={class:"h-340px overflow-auto c-scrollbar pa-2"};function ae(e,g,re,le,ie,y){const v=n("banner"),a=n("v-sheet"),u=n("v-col"),A=n("recharge-dialog"),D=n("v-btn"),$=n("v-row"),p=n("product-box"),S=n("address-dialog");return r(),l("div",null,[t(v,{loading:!1,banner:e.$store.getters["app/banners"].dashboard_page_top},null,8,["banner"]),s("div",I,[s("h1",N,o(e.$t("dashboard")),1),e.generalSettings.wallet_system==1?(r(),B($,{key:0},{default:d(()=>[t(u,{cols:"12",sm:"4"},{default:d(()=>[t(a,{color:"grey-darken-3",rounded:"rounded",elevation:"0",height:"130",class:"d-flex justify-center align-center white-text flex-column"},{default:d(()=>[s("div",F,o(e.$t("wallet_balance")),1),s("div",T,o(e.format_price(e.currentUser.balance)),1)]),_:1})]),_:1}),t(u,{cols:"12",sm:"4"},{default:d(()=>[t(a,{color:"grey-darken-3",rounded:"rounded",elevation:"0",height:"130",class:"d-flex justify-center align-center white-text flex-column"},{default:d(()=>[s("div",U,o(e.$t("last_recharge")),1),s("div",q,o(e.format_price(e.last_recharge.amount)),1),s("div",z,o(e.last_recharge.date),1)]),_:1})]),_:1}),t(u,{cols:"12",sm:"4"},{default:d(()=>[t(A,{show:e.rechargeDialogShow,from:"/user/dashboard",onClose:y.rechargeDialogClosed},null,8,["show","onClose"]),t(D,{class:"bg-grey-lighten-4 border-dashed border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":"",onClick:g[0]||(g[0]=C(c=>e.rechargeDialogShow=!0,["stop"])),border:"dashed thin"},{default:d(()=>[s("span",null,[s("div",E,o(e.$t("recharge_wallet")),1),G])]),_:1})]),_:1})]),_:1})):f("",!0),t($,null,{default:d(()=>[t(u,{cols:"12",md:"4"},{default:d(()=>[t(a,{class:"bg-grey-lighten-5 border border-gray-200 mb-4 text-red d-flex justify-center flex-column pa-5",rounded:"rounded",elevation:"0",height:"130"},{default:d(()=>[s("div",J,o(e.getCartCount),1),s("div",M,o(e.$t("products_in_your_cart")),1)]),_:1}),t(a,{class:"bg-grey-lighten-5 border border-gray-200 mb-4 text-blue d-flex justify-center flex-column pa-5",rounded:"rounded",elevation:"0",height:"130"},{default:d(()=>[s("div",x,o(e.getTotalWishlisted),1),s("div",H,o(e.$t("products_in_your_wishlist")),1)]),_:1}),t(a,{class:"bg-grey-lighten-5 border border-gray-200 mb-4 text-green d-flex justify-center flex-column pa-5",rounded:"rounded",elevation:"0",height:"130"},{default:d(()=>[s("div",K,o(e.total_order_products),1),s("div",O,o(e.$t("products_you_ordered")),1)]),_:1}),t(v,{loading:!1,banner:e.$store.getters["app/banners"].dashboard_page_bottom},null,8,["banner"])]),_:1}),t(u,{cols:"12",md:"4"},{default:d(()=>[t(a,{class:"border border-gray-200 mb-4 pa-2",rounded:"rounded",height:"422",elevation:"0"},{default:d(()=>[s("div",Q,o(e.$t("recent_purchase_history")),1),s("div",X,[(r(!0),l(b,null,m(e.purchasedProducts,(c,i)=>(r(),l("div",{key:i,class:w(["mt-3",{"border-top pt-3":i!=0}])},[t(p,{"product-details":c,"is-loading":e.dashboardLoading,"box-style":"two","no-border":""},null,8,["product-details","is-loading"])],2))),128))])]),_:1}),t(a,{class:"border border-gray-200 mb-4 pa-2 my-wishlist",rounded:"rounded",height:"405",elevation:"0"},{default:d(()=>[s("div",Y,o(e.$t("my_wishlist")),1),e.wislistLoaded&&e.getWislistProducts.length>0?(r(),l("div",Z,[(r(!0),l(b,null,m(e.getWislistProducts,(c,i)=>(r(),l("div",{key:i,class:w(["mt-3",{"border-top pt-3":i!=0}])},[t(p,{"product-details":c,"is-loading":!e.wislistLoaded,"box-style":"two","no-border":""},null,8,["product-details","is-loading"])],2))),128))])):f("",!0)]),_:1})]),_:1}),t(u,{cols:"12",md:"4"},{default:d(()=>[t(a,{class:"border border-gray-200 mb-4 pa-4",rounded:"rounded",elevation:"0",height:"275"},{default:d(()=>[s("div",ee,o(e.$t("default_shipping_address")),1),e.getDefaultBillingAddress?(r(),l("div",se,[s("div",null,o(e.getDefaultBillingAddress.address),1),s("div",null,o(e.getDefaultBillingAddress.postal_code)+", "+o(e.getDefaultBillingAddress.city)+", "+o(e.getDefaultBillingAddress.state),1),s("div",null,o(e.getDefaultBillingAddress.country),1),s("div",null,o(e.getDefaultBillingAddress.phone),1)])):f("",!0)]),_:1}),t(a,{rounded:"rounded",elevation:"0",height:"131",class:"mb-4"},{default:d(()=>[t(D,{class:"bg-grey-lighten-4 border-dashed border-gray-300 primary-text fs-14 h-100",elevation:"0",block:"","x-large":"",onClick:g[1]||(g[1]=C(c=>e.addressDialogShow=!0,["stop"])),border:"dashed thin"},{default:d(()=>[te,s("span",null,o(e.$t("add_new_address")),1)]),_:1})]),_:1}),t(S,{show:e.addressDialogShow,onClose:y.addressDialogClosed},null,8,["show","onClose"]),t(a,{class:"border border-gray-200 mb-4 pa-2 recenty-viewed",rounded:"rounded",height:"405",elevation:"0"},{default:d(()=>[s("div",oe,o(e.$t("recently_viewed")),1),s("div",de,[(r(!0),l(b,null,m(e.getRecentlyViewedProducts,(c,i)=>(r(),l("div",{key:i,class:w(["mt-3",{"border-top pt-3":i!=0}])},[t(p,{"product-details":c,"is-loading":!e.recentlyViewedLoaded,"box-style":"two","no-border":""},null,8,["product-details","is-loading"])],2))),128))])]),_:1})]),_:1})]),_:1})])])}const ge=P(R,[["render",ae],["__scopeId","data-v-be659125"]]);export{ge as default};
